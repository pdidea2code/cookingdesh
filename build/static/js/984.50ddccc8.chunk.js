"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[984],{51984:(e,s,n)=>{n.r(s),n.d(s,{default:()=>u});var l=n(72791),r=n(78983),a=n(61134),t=n(24846),i=n(98030),m=n(52608),d=n(29655),c=(n(5462),n(57689)),o=n(80184);const u=()=>{const[e,s]=(0,l.useState)(!1),{state:n}=(0,c.TH)(),u=(0,c.s0)(),{register:x,control:h,handleSubmit:j,formState:{errors:p}}=(0,a.cI)({defaultValues:{elements:[{name:"",amount:"",unitId:"",idValue:""}]}}),{fields:b,append:v,remove:N}=(0,a.Dq)({control:h,name:"elements"}),g=()=>{v({name:"",amount:"",idValue:n.id})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(r.KB,{className:"mt-3",children:(0,o.jsx)(r.rb,{children:(0,o.jsx)(r.b7,{md:12,children:(0,o.jsxs)(r.xH,{children:[(0,o.jsx)(r.bn,{children:(0,o.jsx)("strong",{children:"Nutrition Form"})}),(0,o.jsxs)(r.sl,{className:"mt-3",children:[(0,o.jsx)(d.Ix,{}),(0,o.jsxs)(r.lx,{className:"row g-3",onSubmit:j((async e=>{s(!0);try{const s=e.elements.map((e=>({name:e.name,amount:e.amount,recipeid:n.id})));await(0,m.FM)(s);d.Am.success("Data submitted successfully!"),u("/Nutrition",{state:{id:n.id}})}catch(l){console.error("Error submitting form data:",l),d.Am.error("Error submitting form data.")}finally{s(!1)}})),children:[b.map(((e,s)=>{var n,l,a,m,d,c,u,h;return(0,o.jsxs)(r.rb,{className:"mb-3 align-items-end",children:[(0,o.jsxs)(r.b7,{xl:3,md:12,children:[(0,o.jsx)(r.L8,{children:"Name"}),(0,o.jsx)(r.jO,{type:"text",...x("elements.".concat(s,".name"),{required:"Name is required"}),invalid:!(null===(n=p.elements)||void 0===n||null===(l=n[s])||void 0===l||!l.name),placeholder:"Name"}),(null===(a=p.elements)||void 0===a||null===(m=a[s])||void 0===m?void 0:m.name)&&(0,o.jsx)(r.Jh,{className:"text-danger",children:p.elements[s].name.message})]}),(0,o.jsxs)(r.b7,{xl:3,md:12,children:[(0,o.jsx)(r.L8,{children:"Amount"}),(0,o.jsx)(r.jO,{type:"text",...x("elements.".concat(s,".amount"),{required:"Amount is required"}),invalid:!(null===(d=p.elements)||void 0===d||null===(c=d[s])||void 0===c||!c.amount),placeholder:"Amount"}),(null===(u=p.elements)||void 0===u||null===(h=u[s])||void 0===h?void 0:h.amount)&&(0,o.jsx)(r.Jh,{className:"text-danger",children:p.elements[s].amount.message})]}),(0,o.jsx)(r.b7,{xl:2,md:12,className:"mt-2",children:(0,o.jsx)(r.u5,{onClick:()=>(e=>{N(e)})(s),color:"danger",className:"me-2",children:"Remove"})}),s===b.length-1&&(0,o.jsx)(r.b7,{xl:1,md:12,children:(0,o.jsx)(r.u5,{onClick:g,color:"primary",className:"me-2",children:(0,o.jsx)(t.Z,{icon:i.q})})})]},e.id)})),(0,o.jsx)(r.rb,{className:"mt-3",children:(0,o.jsx)(r.b7,{md:12,className:"text-center",children:e?(0,o.jsxs)(r.u5,{disabled:!0,children:[(0,o.jsx)(r.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Loading..."]}):(0,o.jsx)(r.u5,{type:"submit",className:"AddButton",children:"Submit"})})})]})]})]})})})})})}},98030:(e,s,n)=>{n.d(s,{q:()=>l});var l=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='440 240 272 240 272 72 240 72 240 240 72 240 72 272 240 272 240 440 272 440 272 272 440 272 440 240' class='ci-primary'/>"]}}]);
//# sourceMappingURL=984.50ddccc8.chunk.js.map