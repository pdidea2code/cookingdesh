"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[478],{9478:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var i=a(72791),t=a(61134),r=a(78983),n=a(24846),c=a(99161),d=a(93647),l=a(57689),o=a(29655),m=(a(5462),a(59434)),h=a(52608),x=a(5695),u=a(88329),j=a(80184);const p=()=>{const{register:e,handleSubmit:s}=(0,t.cI)(),[a,p]=(0,i.useState)(!1),[f,g]=(0,i.useState)(),b=(0,l.s0)(),S=(0,m.I0)();return(0,j.jsxs)("div",{className:"login-page bg-light min-vh-100",children:[(0,j.jsx)(o.Ix,{}),(0,j.jsx)(r.KB,{children:(0,j.jsx)(r.rb,{className:"justify-content-center",children:(0,j.jsx)(r.b7,{lg:4,md:6,sm:6,children:(0,j.jsx)(r.dL,{children:(0,j.jsx)(r.xH,{className:"p-4",style:{backgroundColor:"#ffffff9c "},children:(0,j.jsx)(r.sl,{style:{backgroundColor:"ff5733"},children:(0,j.jsxs)(r.lx,{onSubmit:s((async e=>{g(""),p(!0);try{const s=await(0,h.$g)(e);if(400===s.status||!1===s.data.success)g(s.data.message),p(!1);else{u.Z.set("accessToken",s.data.info.admin.accessToken,{sameSite:"Strict",secure:!0}),u.Z.set("refreshToken",s.data.info.refresh_token,{sameSite:"Strict",secure:!0}),localStorage.setItem("refreshToken",s.data.info.refresh_token);const a={name:s.data.info.admin.name,id:s.data.info.admin._id,email:s.data.info.admin.email,img:s.data.info.admin.image?s.data.info.baseUrl+s.data.info.admin.image:null};u.Z.set("admin",JSON.stringify(a),{sameSite:"Strict",secure:!0}),p(!1),S({type:x.X,data:e}),b("/dashboard")}}catch(s){console.log(s),!s.response||401!==s.response.status&&s.response.data.success?(g("Something is wrong!"),p(!1)):(g(s.response.data.message),p(!1))}})),children:[(0,j.jsx)("h1",{className:"text-center mb-4",children:"Login"}),(0,j.jsx)("p",{className:"text-medium-emphasis text-center text-black",children:"Sign In to your account"}),(0,j.jsx)("div",{in:f,children:(0,j.jsx)("b",{children:(0,j.jsx)("p",{className:"errors",style:{textShadow:"0px 0px 2px black"},children:f?(0,j.jsxs)(j.Fragment,{children:[" ",f," ",(0,j.jsxs)("span",{hidden:!0,children:[o.Am.error(f)," "]})," "]}):""})})}),(0,j.jsxs)(r.YR,{className:"mb-2",children:[(0,j.jsx)(r.wV,{children:(0,j.jsx)(n.Z,{icon:c.E})}),(0,j.jsx)(o.Ix,{}),(0,j.jsx)(r.jO,{className:"login-input",...e("email",{required:"Email is required"}),placeholder:"Enter Email",autoComplete:"email"})]}),(0,j.jsxs)(r.YR,{className:"mb-4",children:[(0,j.jsx)(r.wV,{children:(0,j.jsx)(n.Z,{icon:d.U})}),(0,j.jsx)(r.jO,{className:"login-input",...e("password",{required:"Password is required"}),type:"password",placeholder:"Enter Password",autoComplete:"current-password"})]}),(0,j.jsx)(r.rb,{children:(0,j.jsx)(r.b7,{lg:12,md:6,xs:12,className:"mb-3 mb-md-0 mt-2",children:(0,j.jsx)(r.u5,{type:"submit",className:"w-100 custom-color",disabled:a,children:a?"Loading...":"Login"})})})]})})})})})})})]})}}}]);
//# sourceMappingURL=478.92a9c036.chunk.js.map