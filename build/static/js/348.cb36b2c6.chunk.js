"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[348],{16348:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var a=r(72791),t=r(78983),i=r(61134),n=r(52608),d=r(57689),l=r(29655),c=(r(5462),r(80184));const m=()=>{const{register:e,getValues:s,setValue:r,handleSubmit:m,control:o,clearErrors:h,formState:{errors:x}}=(0,i.cI)(),u=(0,d.s0)(),[j,g]=(0,a.useState)(),[p,b]=(0,a.useState)(""),[f,_]=(0,a.useState)(!1),{state:N}=(0,d.TH)();return(0,a.useEffect)((()=>{if(N){const{editData:e,imageUrl:s}=N;b(e._id),r("name",e.name),g(s+e.image)}}),[]),(0,c.jsx)("div",{className:" bg-light min-vh-100",children:(0,c.jsx)(t.KB,{className:"mt-3",children:(0,c.jsx)(t.rb,{children:(0,c.jsx)(t.b7,{md:8,children:(0,c.jsxs)(t.xH,{children:[(0,c.jsx)(t.bn,{children:(0,c.jsx)("strong",{children:"Diet Form"})}),(0,c.jsxs)(t.sl,{children:[(0,c.jsx)(l.Ix,{}),(0,c.jsxs)(t.lx,{className:"row g-3 ",onSubmit:m((e=>{let s=new FormData;Object.keys(e).forEach((function(r){"image"===r?void 0!==e[r][0]&&s.append(r,e[r][0]):s.append(r,e[r])})),""===p?(0,n.AK)(s).then((e=>{u("/diet")})).catch((e=>{e.response.data.success?_(!1):l.Am.error(e.response.data.message)})):(0,n.a7)(s,p).then((e=>{u("/diet")})).catch((e=>{console.log(e),e.response.data.success?l.Am.error("Something Went Wrong!"):l.Am.error("Must be Fill All Field required"),_(!1)}))})),children:[(0,c.jsxs)(t.b7,{xl:6,md:12,children:[(0,c.jsx)(t.L8,{children:"Diet Name"}),(0,c.jsx)(t.jO,{type:"text",id:"name",...e("name",{required:"diet Name is required"}),invalid:!!x.name,placeholder:"diet Name"}),(0,c.jsx)(t.CO,{invalid:!0,children:"diet Name is required"})]}),(0,c.jsxs)(t.b7,{xl:6,md:12,children:[(0,c.jsxs)(t.L8,{children:["Diet Image",(0,c.jsx)("span",{className:"errors",children:"Only png, jpg, webp and jpeg image allow"})]}),(0,c.jsx)(t.jO,{type:"file",id:"image",...e("image"),onChange:e=>{const s=e.target.files[0];if(s){const e=URL.createObjectURL(s);g(e)}else g("")}})]}),(0,c.jsx)(t.b7,{md:6,children:j&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("p",{children:"Image preview"}),(0,c.jsx)("img",{src:j,alt:"newUrl",style:{maxWidth:"40%",borderRadius:"10px",maxHeight:"40%"}})]})}),(0,c.jsx)(t.b7,{md:12,className:"text-center submitButton",children:f?(0,c.jsxs)(t.u5,{disabled:!0,children:[(0,c.jsx)(t.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Loading..."]}):(0,c.jsx)(t.u5,{type:"submit",className:"AddButton",children:""===p?"Add":"Update"})})]})]})]})})})})})}}}]);
//# sourceMappingURL=348.cb36b2c6.chunk.js.map