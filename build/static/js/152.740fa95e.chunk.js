"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[152],{92152:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(72791),c=t(29655),r=t(78983),i=(t(33295),t(52608));t(5462),t(24846);t.p;var n=t(80184);var l=t(57689);const o=()=>{const[e,s]=(0,a.useState)({}),[t,o]=(0,a.useState)(!0),d=(0,l.s0)();return(0,a.useEffect)((()=>{(async()=>{try{const e=(await(0,i.TK)()).data.info;o(!1),s(e)}catch(e){o(!1),c.Am.error(e.messsage)}})()}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Ix,{}),t?(0,n.jsx)(r.LQ,{className:"theme-spinner-color"}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(r.rb,{children:[(0,n.jsx)(r.b7,{xl:2,md:6,sm:12,onClick:()=>d("/Recipe"),children:(0,n.jsx)(r.yv,{className:"mb-3",title:"Recipe",value:e.recipe,className:"WidgetStatsEback"})}),(0,n.jsx)(r.b7,{xl:2,md:6,sm:12,onClick:()=>d("/User"),children:(0,n.jsx)(r.yv,{className:"mb-3",title:"User",value:e.user,className:"WidgetStatsEback"})}),(0,n.jsx)(r.b7,{xl:2,md:6,sm:12,onClick:()=>d("/Category"),children:(0,n.jsx)(r.yv,{className:"mb-3",title:"Category",value:e.category,className:"WidgetStatsEback"})}),(0,n.jsx)(r.b7,{xl:2,md:6,sm:12,onClick:()=>d("/Cuisine"),children:(0,n.jsx)(r.yv,{className:"mb-3",title:"Cuisine",value:e.cuisine,className:"WidgetStatsEback"})}),(0,n.jsx)(r.b7,{xl:2,md:6,sm:12,onClick:()=>d("/Diet"),children:(0,n.jsx)(r.yv,{className:"mb-3",title:"Diet",value:e.diet,className:"WidgetStatsEback"})}),(0,n.jsx)(r.b7,{xl:2,md:6,sm:12,children:(0,n.jsx)(r.yv,{className:"mb-3",title:"Subscribed User",value:e.subscribedUser,className:"WidgetStatsEback"})})]})})]})};var d=t(89078),m=t(15865);const u=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{try{const e=await(0,i.Y8)(),t=e.data.info.user;r(e.data.info.baseUrl),s(t)}catch(e){c.Am.error(e)}})()}),[]);const l=[{name:"name",label:"Name",options:{filter:!1,sort:!0}},{name:"email",label:"Email",options:{filter:!1,sort:!0}},{name:"mono",label:"MobileNo",options:{filter:!1,sort:!0}},{name:"image",label:"Image",options:{filter:!1,sort:!1,customBodyRender:e=>e?(0,n.jsx)("img",{src:"".concat("https://serverpre.vercel.app/public/userprofile/").concat(e),alt:e,style:{height:"50px",width:"50px",borderRadius:"50%"}}):(0,n.jsx)("img",{src:m,alt:e,style:{height:"50px",width:"50px",borderRadius:"50%"}})}}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Ix,{}),(0,n.jsx)(d.ZP,{title:"User",data:e,columns:l,options:{selectableRows:"none",rowsPerPage:3,rowsPerPageOptions:[3],download:!1,print:!1,search:!1}})]})};t(84491);var x=t(93076);const h=()=>{const[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)({});return(0,a.useEffect)((()=>{(async()=>{m(!0);try{const e=await(0,i.E6)(),t=e.data.info.recipes;s(t),l(e.data.info.baseUrl)}catch(e){c.Am.error(e.message)}finally{m(!1)}})(),(async()=>{m(!0);try{const e=(await(0,i.es)()).data.info;console.log(e),g(e)}catch(e){c.Am.error(e.message)}finally{m(!1)}})()}),[]),(0,n.jsx)(n.Fragment,{children:d?(0,n.jsx)(r.LQ,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Ix,{}),(0,n.jsxs)(r.rb,{className:"backimg",children:[(0,n.jsx)(r.b7,{lg:12,md:12,className:"mt-3",children:(0,n.jsx)(o,{})}),(0,n.jsx)(r.b7,{lg:8,sm:12,className:"mt-3",children:(0,n.jsx)(u,{})}),(0,n.jsx)(r.b7,{lg:4,sm:12,className:"mt-3",children:(0,n.jsxs)(r.xH,{children:[(0,n.jsx)(r.bn,{children:"Active InActive User"}),(0,n.jsx)(r.sl,{children:(0,n.jsx)(x.FR,{type:"doughnut",data:{labels:["Active User","Inactive User"],datasets:[{backgroundColor:["#41B883","#E46651"],data:[h.activeUser,h.deactiveUser]}]}})})]})})]})]})})}},84491:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(9955),c=t(90977),r=t(13838),i=t(89078),n=t(72791),l=t(57689),o=t(52608),d=t(76794),m=t(24824),u=t(29900),x=t(29655),h=t(62062),g=t.n(h),p=t(33295),b=t(80184);const j=()=>{const e=(0,l.s0)(),[s,t]=(0,n.useState)([]),[h,j]=(0,n.useState)([]),y=async()=>{await(0,o.fM)().then((e=>{const s=e.data.info.diet.map((e=>({...e})));t(s),j("".concat("https://serverpre.vercel.app/public/dietimage/"))})).catch((e=>{e.response.data.success||(401===e.response.data.status?x.Am.error(e.response.data.message):x.Am.error(e.response.data,"else"))}))};(0,n.useEffect)((()=>{y()}),[]);const f=[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"image",label:"Image",options:{customBodyRender:e=>e?(0,b.jsx)("img",{src:"".concat("https://serverpre.vercel.app/public/dietimage/").concat(e),alt:e,style:{height:"50px",width:"50px"}}):(0,b.jsx)("img",{src:p,alt:e,style:{height:"50px",width:"50px"}})}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRender:(e,t)=>{let{rowIndex:c}=t;const{status:r,_id:i}=s[c];return(0,b.jsx)(a.Z,{checked:r,onChange:()=>{const e={id:i,status:!r};(0,o.Dl)(e,i).then((()=>{x.Am.success("Status changed successfully!",{key:e._id}),y()})).catch((()=>{x.Am.error("Something went wrong!",{key:e._id})}))}})}}},{name:"_id",label:"Action",options:{customBodyRender:t=>(0,b.jsxs)("div",{children:[(0,b.jsx)(d.Z,{className:"editButton",onClick:()=>{console.log(s);const a=s.find((e=>e._id===t));e("/Diet-form",{state:{editData:a,imageUrl:h}})}}),(0,b.jsx)(m.Z,{className:"deleteButton",onClick:async()=>{await g()({title:"Are you sure?",text:"Are you sure? Want to delete Diet? All related data will also be deleted",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0})&&(0,o.iN)(t).then((()=>{x.Am.success("Deleted successfully!",{key:t}),console.log(t),y()})).catch((()=>{x.Am.error("Something went wrong!",{key:t})}))}})]})}}],v=e=>{let{selectedRows:t}=e;return(0,b.jsx)("div",{children:(0,b.jsx)(c.Z,{onClick:()=>(async e=>{const t=e.data.map((e=>s[e.dataIndex]._id));await g()({title:"Are you sure?",text:"Are you sure that you want to delete selected diet?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0})&&(0,o.nG)(t).then((()=>{console.log(t),y(),x.Am.success("Deleted successfully!",{key:t.join(",")})})).catch((()=>{x.Am.error("Something went wrong!",{key:t.join(",")})}))})(t),children:(0,b.jsx)(u.Z,{})})})},w={customToolbarSelect:e=>(0,b.jsx)(v,{selectedRows:e})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Ix,{}),(0,b.jsx)("div",{className:"right-text",children:(0,b.jsx)(r.Z,{variant:"contained",size:"medium",className:"AddButton",onClick:()=>e("/Diet-form"),children:"Add Diet"})}),(0,b.jsx)(i.ZP,{title:"Diet List",data:s,columns:f,options:w})]})}},15865:(e,s,t)=>{e.exports=t.p+"static/media/default.9ac34f8f1c1ab5ca9880.png"},33295:(e,s,t)=>{e.exports=t.p+"static/media/defaultImg.d843e859976204fb4e90.png"}}]);
//# sourceMappingURL=152.740fa95e.chunk.js.map