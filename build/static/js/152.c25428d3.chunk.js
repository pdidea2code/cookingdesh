"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[152],{92152:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(72791),c=s(29655),i=s(78983),n=(s(33295),s(52608));s(5462),s(24846);s.p;var r=s(80184);var l=s(57689);const o=()=>{const[e,t]=(0,a.useState)({}),[s,o]=(0,a.useState)(!0),d=(0,l.s0)();return(0,a.useEffect)((()=>{(async()=>{try{const e=(await(0,n.TK)()).data.info;o(!1),t(e)}catch(e){o(!1),c.Am.error(e.messsage)}})()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Ix,{}),s?(0,r.jsx)(i.LQ,{className:"theme-spinner-color"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.rb,{children:[(0,r.jsx)(i.b7,{xl:2,md:6,sm:12,onClick:()=>d("/Recipe"),children:(0,r.jsx)(i.yv,{className:"mb-3",title:"Recipe",value:e.recipe,className:"WidgetStatsEback"})}),(0,r.jsx)(i.b7,{xl:2,md:6,sm:12,onClick:()=>d("/User"),children:(0,r.jsx)(i.yv,{className:"mb-3",title:"User",value:e.user,className:"WidgetStatsEback"})}),(0,r.jsx)(i.b7,{xl:2,md:6,sm:12,onClick:()=>d("/Category"),children:(0,r.jsx)(i.yv,{className:"mb-3",title:"Category",value:e.category,className:"WidgetStatsEback"})}),(0,r.jsx)(i.b7,{xl:2,md:6,sm:12,onClick:()=>d("/Cuisine"),children:(0,r.jsx)(i.yv,{className:"mb-3",title:"Cuisine",value:e.cuisine,className:"WidgetStatsEback"})}),(0,r.jsx)(i.b7,{xl:2,md:6,sm:12,onClick:()=>d("/Diet"),children:(0,r.jsx)(i.yv,{className:"mb-3",title:"Diet",value:e.diet,className:"WidgetStatsEback"})}),(0,r.jsx)(i.b7,{xl:2,md:6,sm:12,children:(0,r.jsx)(i.yv,{className:"mb-3",title:"Subscribed User",value:e.subscribedUser,className:"WidgetStatsEback"})})]})})]})};var d=s(89078),m=s(15865);const u=()=>{const[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{try{const e=await(0,n.Y8)(),s=e.data.info.user;i(e.data.info.baseUrl),t(s)}catch(e){c.Am.error(e)}})()}),[]);const l=[{name:"name",label:"Name",options:{filter:!1,sort:!0}},{name:"email",label:"Email",options:{filter:!1,sort:!0}},{name:"mono",label:"MobileNo",options:{filter:!1,sort:!0}},{name:"image",label:"Image",options:{filter:!1,sort:!1,customBodyRender:e=>e?(0,r.jsx)("img",{src:"".concat("http://localhost:5008/public/userprofile/").concat(e),alt:e,style:{height:"50px",width:"50px",borderRadius:"50%"}}):(0,r.jsx)("img",{src:m,alt:e,style:{height:"50px",width:"50px",borderRadius:"50%"}})}}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Ix,{}),(0,r.jsx)(d.ZP,{title:"User",data:e,columns:l,options:{selectableRows:"none",rowsPerPage:3,rowsPerPageOptions:[3],download:!1,print:!1,search:!1}})]})};s(84491);var x=s(93076);const h=()=>{const[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[d,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)({});return(0,a.useEffect)((()=>{(async()=>{m(!0);try{const e=await(0,n.E6)(),s=e.data.info.recipes;t(s),l(e.data.info.baseUrl)}catch(e){c.Am.error(e.message)}finally{m(!1)}})(),(async()=>{m(!0);try{const e=(await(0,n.es)()).data.info;g(e)}catch(e){c.Am.error(e.message)}finally{m(!1)}})()}),[]),(0,r.jsx)(r.Fragment,{children:d?(0,r.jsx)(i.LQ,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Ix,{}),(0,r.jsxs)(i.rb,{className:"backimg",children:[(0,r.jsx)(i.b7,{lg:12,md:12,className:"mt-3",children:(0,r.jsx)(o,{})}),(0,r.jsx)(i.b7,{lg:8,sm:12,className:"mt-3",children:(0,r.jsx)(u,{})}),(0,r.jsx)(i.b7,{lg:4,sm:12,className:"mt-3",children:(0,r.jsxs)(i.xH,{children:[(0,r.jsx)(i.bn,{children:"Active InActive User"}),(0,r.jsx)(i.sl,{children:(0,r.jsx)(x.FR,{type:"doughnut",data:{labels:["Active User","Inactive User"],datasets:[{backgroundColor:["#41B883","#E46651"],data:[h.activeUser,h.deactiveUser]}]}})})]})})]})]})})}},84491:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(9955),c=s(90977),i=s(13838),n=s(89078),r=s(72791),l=s(57689),o=s(52608),d=s(76794),m=s(24824),u=s(29900),x=s(29655),h=s(62062),g=s.n(h),b=s(33295),j=s(80184);const p=()=>{const e=(0,l.s0)(),[t,s]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),y=async()=>{await(0,o.fM)().then((e=>{const t=e.data.info.diet.map((e=>({...e})));s(t),p("".concat("http://localhost:5008/public/dietimage/"))})).catch((e=>{e.response.data.success||(401===e.response.data.status?x.Am.error(e.response.data.message):x.Am.error(e.response.data,"else"))}))};(0,r.useEffect)((()=>{y()}),[]);const f=[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"image",label:"Image",options:{customBodyRender:e=>e?(0,j.jsx)("img",{src:"".concat("http://localhost:5008/public/dietimage/").concat(e),alt:e,style:{height:"50px",width:"50px"}}):(0,j.jsx)("img",{src:b,alt:e,style:{height:"50px",width:"50px"}})}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRender:(e,s)=>{let{rowIndex:c}=s;const{status:i,_id:n}=t[c];return(0,j.jsx)(a.Z,{checked:i,onChange:()=>{const e={id:n,status:!i};(0,o.Dl)(e,n).then((()=>{x.Am.success("Status changed successfully!",{key:e._id}),y()})).catch((()=>{x.Am.error("Something went wrong!",{key:e._id})}))}})}}},{name:"_id",label:"Action",options:{customBodyRender:s=>(0,j.jsxs)("div",{children:[(0,j.jsx)(d.Z,{className:"editButton",onClick:()=>{console.log(t);const a=t.find((e=>e._id===s));e("/Diet-form",{state:{editData:a,imageUrl:h}})}}),(0,j.jsx)(m.Z,{className:"deleteButton",onClick:async()=>{await g()({title:"Are you sure?",text:"Are you sure? Want to delete Diet? All related data will also be deleted",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0})&&(0,o.iN)(s).then((()=>{x.Am.success("Deleted successfully!",{key:s}),y()})).catch((()=>{x.Am.error("Something went wrong!",{key:s})}))}})]})}}],w=e=>{let{selectedRows:s}=e;return(0,j.jsx)("div",{children:(0,j.jsx)(c.Z,{onClick:()=>(async e=>{const s=e.data.map((e=>t[e.dataIndex]._id));await g()({title:"Are you sure?",text:"Are you sure that you want to delete selected diet?",icon:"warning",buttons:["No, cancel it!","Yes, I am sure!"],dangerMode:!0})&&(0,o.nG)(s).then((()=>{y(),x.Am.success("Deleted successfully!",{key:s.join(",")})})).catch((()=>{x.Am.error("Something went wrong!",{key:s.join(",")})}))})(s),children:(0,j.jsx)(u.Z,{})})})},k={customToolbarSelect:e=>(0,j.jsx)(w,{selectedRows:e})};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Ix,{}),(0,j.jsx)("div",{className:"right-text",children:(0,j.jsx)(i.Z,{variant:"contained",size:"medium",className:"AddButton",onClick:()=>e("/Diet-form"),children:"Add Diet"})}),(0,j.jsx)(n.ZP,{title:"Diet List",data:t,columns:f,options:k})]})}},15865:(e,t,s)=>{e.exports=s.p+"static/media/default.9ac34f8f1c1ab5ca9880.png"},33295:(e,t,s)=>{e.exports=s.p+"static/media/defaultImg.d843e859976204fb4e90.png"}}]);
//# sourceMappingURL=152.c25428d3.chunk.js.map