"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[987],{29987:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var r=i(72791),s=i(78983),n=i(61134),a=i(57689),d=i(29655),l=(i(5462),i(52608)),o=i(80184);const u=()=>{const{register:e,getValues:t,setValue:i,handleSubmit:u,clearErrors:c,formState:{errors:m}}=(0,n.cI)(),h=(0,a.s0)(),[x,j]=(0,r.useState)(""),[p,N]=(0,r.useState)(!1),{state:b}=(0,a.TH)();return(0,r.useEffect)((()=>{if(b){const{editData:e}=b;j(e._id),i("name",e.name),i("amount",e.amount)}else h("/Nutrition")}),[]),(0,o.jsx)("div",{className:"bg-light min-vh-100",children:(0,o.jsx)(s.KB,{className:"mt-3",children:(0,o.jsx)(s.rb,{children:(0,o.jsx)(s.b7,{md:8,children:(0,o.jsxs)(s.xH,{children:[(0,o.jsx)(s.bn,{children:(0,o.jsx)("strong",{children:"Nutrition Form"})}),(0,o.jsxs)(s.sl,{children:[(0,o.jsx)(d.Ix,{}),(0,o.jsxs)(s.lx,{className:"row g-3",onSubmit:u((e=>{var t;const i={name:e.name,amount:e.amount,recipeid:(null===b||void 0===b||null===(t=b.editData)||void 0===t?void 0:t.recipeid)||""};""===x?(0,l.FM)(i).then((e=>{h("/Nutrition")})).catch((e=>{e.response.data.success?N(!1):d.Am.error(e.response.data.message)})):(0,l.Vd)(i,x).then((e=>{h("/Nutrition",{state:{id:b.editData.recipeid}})})).catch((e=>{console.log(e),e.response.data.success?d.Am.error("Something went wrong!"):d.Am.error("Must fill all required fields"),N(!1)}))})),children:[(0,o.jsxs)(s.b7,{xl:6,md:12,children:[(0,o.jsx)(s.L8,{children:"Nutrition Name"}),(0,o.jsx)(s.jO,{type:"text",id:"validationDefault01",...e("name",{required:"Nutrition name is required"}),placeholder:"Nutrition name",invalid:!!m.name}),(0,o.jsx)(s.CO,{invalid:!0,children:"Nutrition name is required"})]}),(0,o.jsxs)(s.b7,{xl:6,md:12,children:[(0,o.jsx)(s.L8,{children:"Amount"}),(0,o.jsx)(s.jO,{type:"text",id:"validationDefault02",...e("amount",{required:"Amount is required"}),placeholder:"Nutrition amount",invalid:!!m.amount}),(0,o.jsx)(s.CO,{invalid:!0,children:"Amount is required"})]}),(0,o.jsx)(s.b7,{xl:6,md:12,className:"text-center submitButton",children:p?(0,o.jsxs)(s.u5,{disabled:!0,children:[(0,o.jsx)(s.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Loading..."]}):(0,o.jsx)(s.u5,{type:"submit",className:"AddButton",children:""===x?"Add":"Update"})})]})]})]})})})})})}}}]);
//# sourceMappingURL=987.13a988d8.chunk.js.map