"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[701],{84701:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var l=s(72791),i=s(61134),r=s(78983),t=s(24846),c=s(99161),n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M16,112V496H496V112ZM236.8,341.6a32.167,32.167,0,0,0,38.4,0L298.667,324,464,448v16H48V448L213.333,324ZM256,316,48,160V144H464v16ZM48,200,186.667,304,48,408ZM464,408,325.333,304,464,200Z' class='ci-primary'/>"],d=s(29655),m=(s(5462),s(52608)),o=s(88329),u=s(80184);const h=()=>{const{register:e,getValues:a,setValue:s,handleSubmit:h,control:x,clearErrors:j,formState:{errors:p}}=(0,i.cI)(),[f,b]=(0,l.useState)(!1),[g,v]=(0,l.useState)(),N=o.Z.get("admin"),_=N?JSON.parse(N):null;return(0,l.useEffect)((()=>{_&&(s("name",_.name),s("email",_.email))}),[_,s]),(0,u.jsx)("div",{className:"bg-light profile",children:(0,u.jsx)(r.KB,{className:"profile-container",children:(0,u.jsx)(r.rb,{children:(0,u.jsx)(r.b7,{children:(0,u.jsx)(r.dL,{children:(0,u.jsx)(r.xH,{className:"p-4 mb-4 profile-card",children:(0,u.jsx)(r.sl,{children:(0,u.jsxs)(r.lx,{onSubmit:h((async e=>{v(""),b(!0);let a=new FormData;Object.keys(e).forEach((function(s){"image"===s?(console.log(e[s]),void 0!==e[s][0]&&a.append(s,e[s][0])):(console.log(e[s]),a.append(s,e[s]))})),(0,m.Ot)(a).then((e=>{const a=e.data.info.data;if(e.data.isSuccess&&200===e.status){const l={name:a.name,id:a._id,email:a.email,img:a.image?e.data.info.baseUrl+a.image:null};s("name",a.name),o.Z.set("admin",JSON.stringify(l),{sameSite:"Strict",secure:!0}),d.Am.success("Updated successfully!")}else v(e.data.message||"Something went wrong!");b(!1)})).catch((e=>{var a,s;console.log(e);const l=(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Something Went Wrong!";v(l),d.Am.error(l),b(!1)}))})),children:[(0,u.jsx)("h2",{className:"text-center mb-4",children:"Edit Your Profile"}),(0,u.jsx)("div",{in:g,children:(0,u.jsx)("p",{className:"errors",children:g||""})}),(0,u.jsx)(r.jO,{...e("_id"),type:"hidden",value:null===_||void 0===_?void 0:_.id}),(0,u.jsxs)(r.YR,{className:"mb-4",children:[(0,u.jsx)(r.wV,{children:(0,u.jsx)(t.Z,{icon:c.E})}),(0,u.jsx)(d.Ix,{}),(0,u.jsx)(r.jO,{...e("name",{required:"Name is required"}),placeholder:"Name",defaultValue:null===_||void 0===_?void 0:_.name,autoComplete:"current-name"})]}),(0,u.jsxs)(r.YR,{className:"mb-4",children:[(0,u.jsx)(r.wV,{children:(0,u.jsx)(t.Z,{icon:n})}),(0,u.jsx)(r.jO,{...e("email"),type:"text",autoComplete:"current-email",disabled:!0,defaultValue:null===_||void 0===_?void 0:_.email})]}),(0,u.jsx)(r.YR,{className:"mb-4",children:(0,u.jsx)(r.jO,{type:"file",accept:"image/*",...e("image"),id:"image","aria-label":"file example"})}),(0,u.jsx)(r.rb,{className:"update-button",children:(0,u.jsx)(r.b7,{xs:12,sm:4,className:"mb-2 mb-md-0 ",children:(0,u.jsx)(r.u5,{type:"submit",className:"w-100 custom-color",disabled:f,children:f?"Loading...":"Update"})})})]})})})})})})})})}}}]);
//# sourceMappingURL=701.552c4fe5.chunk.js.map