"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[146],{94146:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var a=r(72791),t=r(78983),i=r(61134),n=r(52608),c=r(57689),l=r(29655),d=(r(5462),r(80184));const m=()=>{const{register:e,getValues:s,setValue:r,handleSubmit:m,control:o,clearErrors:h,formState:{errors:x}}=(0,i.cI)(),g=(0,c.s0)(),[u,j]=(0,a.useState)(),[p,b]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),{state:_}=(0,c.TH)();return(0,a.useEffect)((()=>{if(_){const{editData:e,imageUrl:s}=_;b(e._id),r("name",e.name),j(s+e.image)}}),[]),(0,d.jsx)("div",{className:" bg-light min-vh-100",children:(0,d.jsx)(t.KB,{className:"mt-3",children:(0,d.jsx)(t.rb,{children:(0,d.jsx)(t.b7,{md:8,children:(0,d.jsxs)(t.xH,{children:[(0,d.jsx)(t.bn,{children:(0,d.jsx)("strong",{children:"Category Form"})}),(0,d.jsxs)(t.sl,{children:[(0,d.jsx)(l.Ix,{}),(0,d.jsxs)(t.lx,{className:"row g-3 ",onSubmit:m((e=>{let s=new FormData;Object.keys(e).forEach((function(r){"image"===r?void 0!==e[r][0]&&s.append(r,e[r][0]):s.append(r,e[r])})),""===p?(0,n.i8)(s).then((e=>{g("/category")})).catch((e=>{e.response.data.success?y(!1):l.Am.error(e.response.data.message)})):(0,n.yr)(s,p).then((e=>{g("/category")})).catch((e=>{console.log(e),e.response.data.success?l.Am.error("Something Went Wrong!"):l.Am.error("Must be Fill All Field required"),y(!1)}))})),children:[(0,d.jsxs)(t.b7,{xl:6,md:12,children:[(0,d.jsx)(t.L8,{children:"Category Name"}),(0,d.jsx)(t.jO,{type:"text",id:"name",...e("name",{required:"category Name is required"}),invalid:!!x.name,placeholder:"category Name"}),(0,d.jsx)(t.CO,{invalid:!0,children:"category Name is required"})]}),(0,d.jsxs)(t.b7,{xl:6,md:12,children:[(0,d.jsxs)(t.L8,{children:["Recipe Image",(0,d.jsx)("span",{className:"errors",children:"Only png, jpg, webp and jpeg image allow"})]}),(0,d.jsx)(t.jO,{type:"file",id:"image",...e("image"),onChange:e=>{const s=e.target.files[0];if(s){const e=URL.createObjectURL(s);j(e)}else j("")}})]}),(0,d.jsx)(t.b7,{md:6,children:u&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:"Image preview"}),(0,d.jsx)("img",{src:u,alt:"newUrl",style:{maxWidth:"40%",borderRadius:"10px",maxHeight:"40%"}})]})}),(0,d.jsx)(t.b7,{md:12,className:"text-center submitButton",children:f?(0,d.jsxs)(t.u5,{disabled:!0,children:[(0,d.jsx)(t.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Loading..."]}):(0,d.jsx)(t.u5,{type:"submit",className:"AddButton",children:""===p?"Add":"Update"})})]})]})]})})})})})}}}]);
//# sourceMappingURL=146.d272d420.chunk.js.map