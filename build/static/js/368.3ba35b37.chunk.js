"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[368],{79368:(e,n,i)=>{i.r(n),i.d(n,{default:()=>u});var s=i(72791),t=i(78983),r=i(61134),a=i(57689),d=i(29655),l=(i(5462),i(52608)),c=i(80184);const u=()=>{const{register:e,getValues:n,setValue:i,handleSubmit:u,clearErrors:o,formState:{errors:m}}=(0,r.cI)(),h=(0,a.s0)(),[x,g]=(0,s.useState)(""),[j,p]=(0,s.useState)(!1),[v,b]=(0,s.useState)([]),{state:_}=(0,a.TH)();return(0,s.useEffect)((()=>{if(_){const{editData:e}=_;g(e._id),i("name",e.name),null==e.unit||i("unit",e.unit._id),i("amount",e.amount)}else h("/Ingredient");(async()=>{try{const e=(await(0,l.PG)()).data.info;b(e)}catch(e){e.response.data.success?p(!1):d.Am.error(e.response.data.message)}})()}),[]),(0,c.jsx)("div",{className:" bg-light min-vh-100",children:(0,c.jsx)(t.KB,{className:"mt-3",children:(0,c.jsx)(t.rb,{children:(0,c.jsx)(t.b7,{md:8,children:(0,c.jsxs)(t.xH,{children:[(0,c.jsx)(t.bn,{children:(0,c.jsx)("strong",{children:"Ingredient Form"})}),(0,c.jsxs)(t.sl,{children:[(0,c.jsx)(d.Ix,{}),(0,c.jsxs)(t.lx,{className:"row g-3 ",onSubmit:u((e=>{console.log(e),""===x?(0,l.ME)(e).then((e=>{h("/Ingredient")})).catch((e=>{e.response.data.success?p(!1):d.Am.error(e.response.data.message)})):(0,l.kA)(e,x).then((e=>{h("/Ingredient",{state:{id:_.editData.recipeid}})})).catch((e=>{e.response.data.success?d.Am.error("Something Went Wrong!"):d.Am.error("Must be Fill All Field required"),p(!1)}))})),children:[(0,c.jsxs)(t.b7,{xl:6,md:12,children:[(0,c.jsx)(t.L8,{children:"Ingredient"}),(0,c.jsx)(t.jO,{type:"text",id:"validationDefault01",...e("name",{required:"Ingredient is required"}),placeholder:"ingredient name",invalid:!!m.name}),(0,c.jsx)(t.CO,{invalid:!0,children:"Ingredient is required"})]}),(0,c.jsxs)(t.b7,{xl:6,md:12,children:[(0,c.jsx)(t.L8,{children:"Amount"}),(0,c.jsx)(t.jO,{type:"text",id:"validationDefault01",...e("amount",{required:"Ingredient is required"}),placeholder:"ingredient amount",invalid:!!m.amount}),(0,c.jsx)(t.CO,{invalid:!0,children:"Ingredient is required"})]}),(0,c.jsxs)(t.b7,{xl:6,md:12,children:[(0,c.jsx)(t.L8,{children:"Unit"}),(0,c.jsxs)(t.LX,{id:"unit",name:"unit",...e("unit"),invalid:!!m.languages,value:n("unit"),onChange:e=>(async(e,n)=>{o(e,n),i(e,n)})("unit",e.target.value),children:[(0,c.jsx)("option",{value:"",children:"Select Unit"}),null===v||void 0===v?void 0:v.map((e=>(0,c.jsx)("option",{value:e._id,children:e.name},e._id)))]}),m.languages&&(0,c.jsx)("div",{className:"errors",children:m.languages.message})]}),(0,c.jsx)(t.b7,{xl:6,md:12,className:"text-center submitButton",children:j?(0,c.jsxs)(t.u5,{disabled:!0,children:[(0,c.jsx)(t.LQ,{component:"span",size:"sm","aria-hidden":"true"}),"Loading..."]}):(0,c.jsx)(t.u5,{type:"submit",className:"AddButton",children:""===x?"Add":"Update"})})]})]})]})})})})})}}}]);
//# sourceMappingURL=368.3ba35b37.chunk.js.map